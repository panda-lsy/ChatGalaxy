/**
 * ChatGalaxy ä¸»é¢˜ç³»ç»Ÿ - ç»Ÿä¸€é€æ˜åº¦ç³»ç»Ÿ
 * åŠ¨æ€é€æ˜åº¦è®¡ç®—ï¼Œæ¶ˆé™¤ç¡¬ç¼–ç 
 * @version 1.0.0
 * @updated 2026-01-07
 * @author æ·±å±±æœ‰å¯†æ—å›¢é˜Ÿ
 */

/* ========== é€æ˜åº¦å±‚çº§å®šä¹‰ ========== */
:root {
    /* é€æ˜åº¦çº§åˆ« */
    --transparent-none: 1;           /* å®Œå…¨ä¸é€æ˜ */
    --transparent-low: 0.95;         /* ä½é€æ˜åº¦ï¼ˆé»˜è®¤ï¼‰ */
    --transparent-medium: 0.85;      /* ä¸­ç­‰é€æ˜åº¦ */
    --transparent-high: 0.7;         /* é«˜é€æ˜åº¦ */
    --transparent-ultra: 0.5;        /* è¶…é«˜é€æ˜åº¦ */

    /* ç»„ä»¶é€æ˜åº¦ */
    --sidebar-alpha: var(--transparent-low);
    --card-alpha: var(--transparent-low);
    --overlay-alpha: var(--transparent-medium);
    --modal-alpha: var(--transparent-none);
}

/* ========== åŠ¨æ€é€æ˜åº¦å˜é‡ ========== */
:root {
    /* è¿™äº›å˜é‡ç”± JavaScript åŠ¨æ€è®¡ç®— */
    --sidebar-bg: rgba(255, 250, 245, 0.95);
    --card-bg: rgba(255, 255, 255, 0.85);
    --card-hover-bg: rgba(255, 255, 255, 0.9);
    --hover-bg: rgba(255, 154, 139, 1);
    --sidebar-border: rgba(255, 229, 220, 0.6);
    --card-border: rgba(255, 229, 220, 0.5);
    --bg-start-alpha: rgba(255, 229, 229, 0.95);
    --bg-end-alpha: rgba(255, 245, 230, 0.95);
}

/* ========== é€æ˜åº¦æ¨¡å¼ï¼ˆå…¨å±€ï¼‰ ========== */

/* é—²ç½®æ¨¡å¼ - é™ä½æ‰€æœ‰é€æ˜åº¦ */
body.idle-mode {
    --sidebar-alpha: var(--transparent-medium);
    --card-alpha: var(--transparent-medium);
}

/* é€æ˜UIæ¨¡å¼ - æé«˜å¯¹æ¯”åº¦ */
body.transparent-ui {
    --sidebar-alpha: var(--transparent-none);
    --card-alpha: var(--transparent-low);
    --overlay-alpha: var(--transparent-high);
}

/* ========== ç»„ä»¶é€æ˜åº¦åº”ç”¨ ========== */

/* ä¾§è¾¹æ  */
.sidebar,
#message-sidebar {
    background: var(--sidebar-bg);
    border-color: var(--sidebar-border);
    transition: background var(--transition-base), border-color var(--transition-base);
}

/* å¡ç‰‡ */
.card,
.message-item,
.keyword-item {
    background: var(--card-bg);
    border-color: var(--card-border);
    transition: background var(--transition-base), border-color var(--transition-base);
}

.card:hover,
.message-item:hover,
.keyword-item:hover {
    background: var(--card-hover-bg);
}

/* æ‚¬åœçŠ¶æ€ */
.sidebar-btn:hover,
.sidebar-item:hover,
.filter-btn:hover {
    background: var(--hover-bg);
    color: var(--sidebar-hover-text);
}

/* ========== è¦†ç›–å±‚é€æ˜åº¦ ========== */

/* æ¨¡æ€æ¡†è¦†ç›–å±‚ */
.modal-overlay,
.editor-modal__overlay {
    background: rgba(0, 0, 0, var(--overlay-alpha));
    backdrop-filter: blur(4px);
}

/* Toast é€šçŸ¥ */
/* ğŸ”§ ä¿®å¤ï¼šToast ä¸å†ä½¿ç”¨ card-bgï¼Œæ”¹ç”¨æ·±è‰²èƒŒæ™¯ç¡®ä¿å¯è§æ€§ */
.toast {
    /* ğŸ”§ ä½¿ç”¨æ·±è‰²åŠé€æ˜èƒŒæ™¯ï¼Œç¡®ä¿åœ¨ä»»ä½•ä¸»é¢˜ä¸‹éƒ½æ¸…æ™°å¯è§ */
    background: rgba(30, 41, 59, 0.95);
    /* ğŸ”§ å¢å¼ºé˜´å½±ï¼Œæå‡å¯è§æ€§ */
    box-shadow:
        0 8px 24px rgba(0, 0, 0, 0.4),
        0 2px 6px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(12px);
    /* ğŸ”§ æ·»åŠ è¾¹æ¡†å¢å¼ºå¯è§æ€§ */
    border: 1px solid rgba(255, 255, 255, 0.2);
}

/* ========== ç‰¹æ®Šæ•ˆæœé€æ˜åº¦ ========== */

/* ç»ç’ƒæ€æ•ˆæœ */
.glass-effect {
    background: var(--card-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--card-border);
}

/* æ¯›ç»ç’ƒæ•ˆæœ */
.frosted-glass {
    background: var(--card-bg);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid var(--card-border);
}

/* ========== è¿‡æ¸¡åŠ¨ç”» ========== */

/* ä¸»é¢˜åˆ‡æ¢è¿‡æ¸¡ */
body {
    transition-property: background, color;
    transition-duration: 0.3s;
    transition-timing-function: ease-in-out;
}

/* é€æ˜åº¦è¿‡æ¸¡ */
.sidebar,
.card,
.message-item,
.keyword-item {
    transition-property: background, border-color, color, opacity;
    transition-duration: 0.3s;
    transition-timing-function: ease-in-out;
}

/* ========== å“åº”å¼é€æ˜åº¦è°ƒæ•´ ========== */

/* ç§»åŠ¨ç«¯ - æé«˜é€æ˜åº¦ä»¥å¢å¼ºå¯è¯»æ€§ */
@media (max-width: 768px) {
    :root {
        --sidebar-alpha: var(--transparent-none);
        --card-alpha: var(--transparent-low);
    }
}

/* ========== é€æ˜åº¦å·¥å…·ç±» ========== */

/* å®Œå…¨ä¸é€æ˜ */
.opacity-100 { opacity: var(--transparent-none); }
.opacity-95 { opacity: var(--transparent-low); }
.opacity-85 { opacity: var(--transparent-medium); }
.opacity-70 { opacity: var(--transparent-high); }
.opacity-50 { opacity: var(--transparent-ultra); }

/* èƒŒæ™¯é€æ˜åº¦ */
.bg-transparent {
    background: transparent !important;
}

.bg-glass {
    background: var(--card-bg) !important;
    backdrop-filter: blur(10px);
}

/* ========== å¯è®¿é—®æ€§å¢å¼º ========== */

/* é«˜å¯¹æ¯”åº¦æ¨¡å¼ */
@media (prefers-contrast: high) {
    :root {
        --sidebar-alpha: var(--transparent-none);
        --card-alpha: var(--transparent-none);
        --overlay-alpha: var(--transparent-none);
    }
}

/* å‡å°‘åŠ¨ç”»æ¨¡å¼ */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        transition-duration: 0.01ms !important;
        animation-duration: 0.01ms !important;
    }
}
